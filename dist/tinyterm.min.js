!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.TinyTerm=t()}}(function(){return function t(e,i,n){function s(r,a){if(!i[r]){if(!e[r]){var d="function"==typeof require&&require;if(!a&&d)return d(r,!0);if(o)return o(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[r]={exports:{}};e[r][0].call(h.exports,function(t){var i=e[r][1][t];return s(i?i:t)},h,h.exports,t,e,i,n)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}({1:[function(t,e){function i(t){var e,i,n,s,o,r,a;this.commands={help:{fn:this.help,desc:"Display helpful information about builtin commands."}},this.loadIndex=0,this.loadInterval=null,this.cmdHistory=[],this.cmdHistoryIndex=-1,this.keysDown={},this.flashed=!1,this.aliases={},e=document.createElement("style"),r=document.createElement("div"),n=this.container=document.createElement("div"),s=this.form=document.createElement("form"),o=this.input=document.createElement("input"),n.classList.add("tinyterm"),r.className="tinytermWidthProbe",r.textContent=">",o.type="text",o.name="prompt",o.autocomplete=o.autocorrect=o.autocapitalize="off",o.spellcheck="false",s.addEventListener("submit",this.run.bind(this)),o.addEventListener("keydown",function(t){var e;t=t||window.event,e=t.keyCode,9===e&&t.preventDefault(),this.keysDown[e]||(this.keysDown[e]=!0,9===e?this.autocomplete(this.input.value):(38===e?(this.cmdHistoryIndex=Math.min(this.cmdHistoryIndex+1,this.cmdHistory.length-1),o.value=this.cmdHistory[this.cmdHistoryIndex]||""):40===e&&(this.cmdHistoryIndex=Math.max(this.cmdHistoryIndex-1,-1),o.value=this.cmdHistory[this.cmdHistoryIndex]||""),this.flashed&&(this.flashed=!1)))}.bind(this),!1),o.addEventListener("keyup",function(t){var e;t=t||window.event,e=t.keyCode,this.keysDown[e]=!1}.bind(this),!1),n.addEventListener("click",function(){this.focus()}.bind(this),!1),n.appendChild(r),n.appendChild(s),s.appendChild(o),("object"!=typeof t||"DIV"!==n.nodeName)&&(t=document.body),t.appendChild(n),a=r.offsetWidth/20,n.removeChild(r),document.head.appendChild(e),i=e.sheet,i.insertRule(".tinyterm p, .tinyterm input {    padding-left: "+2*a+"px  }",0),i.insertRule(".tinyterm p {    text-indent: -"+2*a+"px  }",0)}function n(t){t.input.value=s[t.loadIndex++],t.loadIndex=t.loadIndex%4}i.prototype.help=function(t){return t=this.commands[t],t?t.desc:Object.keys(this.commands).filter(function(t){return!this.aliases[t]}.bind(this)).map(function(t){return t+": "+this.commands[t].desc}.bind(this))};var s=["/","-","\\","|"];i.prototype.startLoading=function(){this.input.disabled=!0,this.loadInterval=window.setInterval(n.bind(null,this),120)},i.prototype.stopLoading=function(t){this.loadInterval&&(window.clearInterval(this.loadInterval),this.loadInterval=null,this.input.value="",t||(this.input.disabled=!1))},i.prototype.flash=function(t){this.container.classList.add("flash"),window.setTimeout(function(){this.container.classList.remove("flash")}.bind(this),84),t||(this.flashed=!0)},i.prototype.focus=function(){this.input.focus()},i.prototype.realign=function(){this.container.scrollTop=this.container.scrollHeight,this.focus()},i.prototype.print=function(t,e){"string"!=typeof e&&(e="p"),t&&(t.constructor===Array?t.forEach(this.print.bind(this)):this.form.insertAdjacentHTML("beforebegin","<"+e+">"+t+"</"+e+">"))},i.prototype.autocomplete=function(t){function e(t,e){return e.filter(function(e){return!e.indexOf(t)})}var i,n,s,o=[];if(""===t)this.flash(!0);else switch(i=t.split(" "),1===i.length&&" "!==t.slice(-1)?o=e(t,Object.keys(this.commands)):(n=i[0],n&&(s=this.commands[n].args,s&&(o=e(i.slice(-1),s)))),o.length){case 0:this.flash(!0);break;case 1:this.input.value=i.slice(0,-1).concat(o).join(" ")+" ",this.flashed=!1;break;case 2:this.flashed?(this.print("> "+t),this.print(o.join(" "))):this.flash()}return this.realign(),o},i.prototype.run=function(t,e){var i,n,s;t=t||window.event,t&&t.preventDefault(),i=this.form.prompt.value,this.form.reset(),this.startLoading(),this.print("> "+i),this.cmdHistory=[i].concat(this.cmdHistory).slice(0,60),this.cmdHistoryIndex=-1,this.flashed&&(this.flashed=!1),i=i.split(" "),n=i.splice(1).filter(function(t){return"-"!==t.charAt(0)}),i=i[0],this.commands[i]?(s=this.commands[i].fn.apply(this,n),null!=s&&this.print(s?s:help(i,this))):this.print(i+": command not found"),this.stopLoading(),this.realign(),"function"==typeof e&&e()},i.prototype.register=function(t,e){var i,n,s,o;if("string"!=typeof t)throw"Must provide a name string to the TinyTerm constructor";if("object"!=typeof e)throw"Must provide an args object to the TinyTerm constructor";if(i=e.fn,n=e.desc,s=e.aliases,"function"!=typeof i)throw'args object requires a function "fn" in the TinyTerm constructor';if("string"!=typeof n)throw'args object requires a string "desc" in the TinyTerm constructor';this.commands[t]=o={fn:i,desc:n},s&&s.constructor===Array&&s.forEach(function(t){this.commands[t]=o,this.aliases[t]=!0}.bind(this))},e.exports=i},{}]},{},[1])(1)});